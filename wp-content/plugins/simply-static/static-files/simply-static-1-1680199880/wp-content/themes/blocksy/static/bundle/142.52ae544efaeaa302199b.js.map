{"version":3,"file":"142.52ae544efaeaa302199b.js","mappings":"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","sources":["webpack://ctFrontend/./static/js/frontend/header/menu.js"],"sourcesContent":["import { isTouchDevice } from '../helpers/is-touch-device'\n\nconst isRtl = () => document.querySelector('html').dir === 'rtl'\n\nconst isEligibleForSubmenu = (el) =>\n\tel.classList.contains('animated-submenu') &&\n\t(!el.parentNode.classList.contains('menu') ||\n\t\t(el.className.indexOf('ct-mega-menu') === -1 &&\n\t\t\tel.parentNode.classList.contains('menu')))\n\nconst getAllParents = (a) => {\n\tvar els = []\n\n\twhile (a) {\n\t\tels.unshift(a)\n\t\ta = a.parentNode\n\t}\n\n\treturn els\n}\n\nfunction furthest(el, s) {\n\tvar nodes = []\n\n\twhile (el.parentNode) {\n\t\tif (\n\t\t\tel.parentNode &&\n\t\t\tel.parentNode.matches &&\n\t\t\tel.parentNode.matches(s)\n\t\t) {\n\t\t\tnodes.push(el.parentNode)\n\t\t}\n\n\t\tel = el.parentNode\n\t}\n\n\treturn nodes[nodes.length - 1]\n}\n\nconst isIosDevice =\n\ttypeof window !== 'undefined' &&\n\twindow.navigator &&\n\twindow.navigator.platform &&\n\t(/iP(ad|hone|od)/.test(window.navigator.platform) ||\n\t\t(window.navigator.platform === 'MacIntel' &&\n\t\t\twindow.navigator.maxTouchPoints > 1))\n\nconst getPreferedPlacementFor = (el) => {\n\tconst farmost = furthest(el, 'li.menu-item')\n\n\tif (!farmost) {\n\t\treturn isRtl() ? 'left' : 'right'\n\t}\n\n\tif (!farmost.querySelector('.sub-menu .sub-menu .sub-menu')) {\n\t\treturn isRtl() ? 'left' : 'right'\n\t}\n\n\treturn farmost.getBoundingClientRect().left > innerWidth / 2\n\t\t? 'left'\n\t\t: 'right'\n}\n\nconst computeItemSubmenuFor = (\n\treference,\n\t{\n\t\t// left -- 1st level menu items\n\t\t// end  -- submenus\n\t\tstartPosition = 'end',\n\t}\n) => {\n\tconst menu = reference.querySelector('.sub-menu')\n\tconst placement = getPreferedPlacementFor(menu)\n\n\tconst { left, width, right } = menu.getBoundingClientRect()\n\n\tlet futurePlacement = placement\n\tlet referenceRect = reference.getBoundingClientRect()\n\n\tif (placement === 'left') {\n\t\tlet referencePoint =\n\t\t\tstartPosition === 'end' ? referenceRect.left : referenceRect.right\n\n\t\tif (referencePoint - width < 0) {\n\t\t\tfuturePlacement = 'right'\n\t\t}\n\t}\n\n\tif (placement === 'right') {\n\t\tlet referencePoint =\n\t\t\tstartPosition === 'end' ? referenceRect.right : referenceRect.left\n\n\t\tif (referencePoint + width > innerWidth) {\n\t\t\tfuturePlacement = 'left'\n\t\t}\n\t}\n\n\treference.dataset.submenu = futurePlacement\n\n\treference.addEventListener('click', () => {})\n}\n\nconst openSubmenu = (e) => {\n\tconst li = e.target.closest('li')\n\n\tli.classList.add('ct-active')\n\n\tlet childIndicator = [...li.children].find((el) =>\n\t\tel.matches('.ct-toggle-dropdown-desktop-ghost')\n\t)\n\n\tif (!childIndicator) {\n\t\tchildIndicator = li.firstElementChild\n\t}\n\n\tif (childIndicator) {\n\t\tchildIndicator.setAttribute('aria-expanded', 'true')\n\t\tif (childIndicator.tagName.toLowerCase() === 'button') {\n\t\t\tchildIndicator.setAttribute(\n\t\t\t\t'aria-label',\n\t\t\t\tct_localizations.collapse_submenu\n\t\t\t)\n\t\t}\n\t}\n\n\tmouseenterHandler({ target: li })\n}\n\nconst closeSubmenu = (e) => {\n\tif (!e.target) {\n\t\treturn\n\t}\n\n\tconst li = e.target.closest('li')\n\tli.classList.remove('ct-active')\n\n\tlet childIndicator = [...li.children].find((el) =>\n\t\tel.matches('.ct-toggle-dropdown-desktop-ghost')\n\t)\n\n\tif (!childIndicator) {\n\t\tchildIndicator = li.firstElementChild\n\t}\n\n\tif (childIndicator) {\n\t\tchildIndicator.setAttribute('aria-expanded', 'false')\n\n\t\tif (childIndicator.tagName.toLowerCase() === 'button') {\n\t\t\tchildIndicator.setAttribute(\n\t\t\t\t'aria-label',\n\t\t\t\tct_localizations.expand_submenu\n\t\t\t)\n\t\t}\n\t}\n\n\tsetTimeout(() => {\n\t\t;[...li.querySelectorAll('[data-submenu]')].map((el) => {\n\t\t\tel.removeAttribute('data-submenu')\n\t\t})\n\t\t;[...li.querySelectorAll('.ct-active')].map((el) => {\n\t\t\tel.classList.remove('ct-active')\n\t\t})\n\t}, 30)\n}\n\nexport const mountMenuLevel = (menuLevel, args = {}) => {\n\t;[...menuLevel.children]\n\t\t.filter((el) =>\n\t\t\tel.matches('.menu-item-has-children, .page_item_has_children')\n\t\t)\n\t\t.map((el) => {\n\t\t\tif (el.classList.contains('ct-mega-menu-custom-width')) {\n\t\t\t\tconst menu = el.querySelector('.sub-menu')\n\t\t\t\tconst elRect = el.getBoundingClientRect()\n\t\t\t\tconst menuRect = menu.getBoundingClientRect()\n\n\t\t\t\tif (\n\t\t\t\t\telRect.left + elRect.width / 2 + menuRect.width / 2 >\n\t\t\t\t\tinnerWidth\n\t\t\t\t) {\n\t\t\t\t\tel.dataset.submenu = 'left'\n\t\t\t\t}\n\n\t\t\t\tif (elRect.left + elRect.width / 2 - menuRect.width / 2 < 0) {\n\t\t\t\t\tel.dataset.submenu = 'right'\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isEligibleForSubmenu(el)) {\n\t\t\t\tcomputeItemSubmenuFor(el, args)\n\t\t\t}\n\n\t\t\tlet childIndicator = [...el.children].find((el) =>\n\t\t\t\tel.matches('.ct-toggle-dropdown-desktop-ghost')\n\t\t\t)\n\n\t\t\tlet hasClickInteraction = el.matches(\n\t\t\t\t'[data-interaction*=\"click\"] *'\n\t\t\t)\n\n\t\t\tif (!el.hasFocusEventListener) {\n\t\t\t\tel.hasFocusEventListener = true\n\n\t\t\t\tel.addEventListener('keydown', function (e) {\n\t\t\t\t\tif (e.keyCode == 27) {\n\t\t\t\t\t\tcloseSubmenu({\n\t\t\t\t\t\t\ttarget: el.firstElementChild,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tel.addEventListener('focusout', (evt) => {\n\t\t\t\t\tif (el.contains(evt.relatedTarget)) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tcloseSubmenu({\n\t\t\t\t\t\ttarget: el.firstElementChild,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (!hasClickInteraction) {\n\t\t\t\tel.addEventListener('mouseenter', (e) => {\n\t\t\t\t\t// So that mouseenter event is catched before the open itself\n\t\t\t\t\tif (isIosDevice) {\n\t\t\t\t\t\topenSubmenu({ target: el.firstElementChild })\n\t\t\t\t\t} else {\n\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\topenSubmenu({ target: el.firstElementChild })\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\t// If first level\n\t\t\t\t\tif (!el.parentNode.classList.contains('.sub-menu')) {\n\t\t\t\t\t\t;[...el.parentNode.children]\n\t\t\t\t\t\t\t.filter((firstLevelEl) => firstLevelEl !== el)\n\t\t\t\t\t\t\t.map((firstLevelEl) => {\n\t\t\t\t\t\t\t\tcloseSubmenu({\n\t\t\t\t\t\t\t\t\ttarget: firstLevelEl.firstElementChild,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\te.target.closest('li').addEventListener(\n\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tcloseSubmenu({ target: el.firstElementChild })\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t)\n\t\t\t\t})\n\n\t\t\t\t// On Android devices, allow only 2nd click to open the link.\n\t\t\t\t// First click will ensure the submenu is opened\n\t\t\t\t//\n\t\t\t\t// iOS has this behaviour out of the box.\n\t\t\t\t//\n\t\t\t\t// Important: only perform this for touch devices so that keyboard\n\t\t\t\t// users are not affected.\n\t\t\t\tif (isTouchDevice()) {\n\t\t\t\t\tel.addEventListener('click', (e) => {\n\t\t\t\t\t\tif (!el.classList.contains('ct-active')) {\n\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasClickInteraction) {\n\t\t\t\tlet itemTarget = el.matches('[data-interaction*=\"item\"] *')\n\t\t\t\t\t? el.firstElementChild\n\t\t\t\t\t: el.firstElementChild.querySelector(\n\t\t\t\t\t\t\t'.ct-toggle-dropdown-desktop'\n\t\t\t\t\t  )\n\n\t\t\t\tif (!itemTarget.hasEventListener) {\n\t\t\t\t\titemTarget.hasEventListener = true\n\t\t\t\t\titemTarget.addEventListener('click', (e) => {\n\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\te.target\n\t\t\t\t\t\t\t\t.closest('li')\n\t\t\t\t\t\t\t\t.classList.contains('ct-active')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcloseSubmenu(e)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\topenSubmenu(e)\n\n\t\t\t\t\t\t\tif (isIosDevice) {\n\t\t\t\t\t\t\t\te.target.closest('li').addEventListener(\n\t\t\t\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\tcloseSubmenu({\n\t\t\t\t\t\t\t\t\t\t\ttarget: el.firstElementChild,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (!e.target.hasDocumentListener) {\n\t\t\t\t\t\t\t\te.target.hasDocumentListener = true\n\t\t\t\t\t\t\t\t// Add the event a bit later\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tdocument.addEventListener(\n\t\t\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t\t\t(evt) => {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t!e.target\n\t\t\t\t\t\t\t\t\t\t\t\t\t.closest('li')\n\t\t\t\t\t\t\t\t\t\t\t\t\t.contains(evt.target)\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tcloseSubmenu(e)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (childIndicator && !childIndicator.hasEventListener) {\n\t\t\t\tchildIndicator.hasEventListener = true\n\n\t\t\t\tchildIndicator.addEventListener('click', (e) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\te.target.closest('li').classList.contains('ct-active')\n\t\t\t\t\t) {\n\t\t\t\t\t\tcloseSubmenu(e)\n\t\t\t\t\t} else {\n\t\t\t\t\t\topenSubmenu(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n}\n\nconst mouseenterHandler = ({ target }) => {\n\tif (!target.matches('.menu-item-has-children, .page_item_has_children')) {\n\t\ttarget = target.closest(\n\t\t\t'.menu-item-has-children, .page_item_has_children'\n\t\t)\n\t}\n\n\tif (\n\t\ttarget.parentNode.classList.contains('menu') &&\n\t\ttarget.className.indexOf('ct-mega-menu') > -1 &&\n\t\ttarget.className.indexOf('ct-mega-menu-custom-width') === -1 &&\n\t\twindow.wp &&\n\t\twp &&\n\t\twp.customize &&\n\t\twp.customize('active_theme')\n\t) {\n\t\tconst menu = target.querySelector('.sub-menu')\n\n\t\tmenu.style.left = `${\n\t\t\tMath.round(\n\t\t\t\ttarget\n\t\t\t\t\t.closest('[class*=\"ct-container\"]')\n\t\t\t\t\t.firstElementChild.getBoundingClientRect().x\n\t\t\t) - Math.round(target.closest('nav').getBoundingClientRect().x)\n\t\t}px`\n\t}\n\n\tif (!isEligibleForSubmenu(target)) {\n\t\treturn\n\t}\n\n\tconst menu = target.querySelector('.sub-menu')\n\n\tmountMenuLevel(menu)\n\n\tif (menu.closest('[data-interaction=\"hover\"]')) {\n\t\tmenu.parentNode.addEventListener(\n\t\t\t'mouseleave',\n\t\t\t() => {\n\t\t\t\t;[...menu.children]\n\t\t\t\t\t.filter((el) => isEligibleForSubmenu(el))\n\t\t\t\t\t.map((el) => el.removeAttribute('data-submenu'))\n\t\t\t},\n\t\t\t{ once: true }\n\t\t)\n\t}\n}\n\nexport const handleUpdate = (menu) => {\n\tif (!menu.parentNode) {\n\t\tmenu = document.querySelector(`[class=\"${menu.className}\"]`)\n\t}\n\n\tif (!menu) {\n\t\treturn\n\t}\n\n\tif (\n\t\t!menu.querySelector('.menu-item-has-children') &&\n\t\t!menu.querySelector('.page_item_has_children')\n\t) {\n\t\treturn\n\t}\n\n\tif (menu.closest('[data-interaction=\"hover\"]')) {\n\t\tmenu.removeEventListener('mouseenter', mouseenterHandler)\n\t\tmenu.addEventListener('mouseenter', mouseenterHandler)\n\t}\n}\n"],"names":["isEligibleForSubmenu","el","classList","contains","parentNode","className","indexOf","isIosDevice","window","navigator","platform","test","maxTouchPoints","computeItemSubmenuFor","reference","startPosition","menu","querySelector","placement","farmost","s","nodes","matches","push","length","furthest","getBoundingClientRect","left","innerWidth","document","dir","getPreferedPlacementFor","width","right","futurePlacement","referenceRect","dataset","submenu","addEventListener","openSubmenu","e","li","target","closest","add","childIndicator","children","find","firstElementChild","setAttribute","tagName","toLowerCase","ct_localizations","collapse_submenu","mouseenterHandler","closeSubmenu","remove","expand_submenu","setTimeout","querySelectorAll","map","removeAttribute","mountMenuLevel","menuLevel","args","filter","elRect","menuRect","hasClickInteraction","hasFocusEventListener","keyCode","evt","relatedTarget","requestAnimationFrame","firstLevelEl","once","isTouchDevice","preventDefault","itemTarget","hasEventListener","hasDocumentListener","wp","customize","style","Math","round","x","handleUpdate","removeEventListener"],"sourceRoot":""}